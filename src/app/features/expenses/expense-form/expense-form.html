<div class="container mx-auto px-4 max-w-2xl">
  <h1 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white">
    {{ isEdit ? 'Edit Expense' : 'Add New Expense' }}
  </h1>

  <form [formGroup]="expenseForm" (ngSubmit)="onSubmit()" class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
    <div class="mb-4">
      <label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Description
      </label>
      <input
        type="text"
        id="description"
        formControlName="description"
        class="w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"
        placeholder="Enter expense description"
      >
      <div *ngIf="expenseForm.get('description')?.invalid && expenseForm.get('description')?.touched"
           class="text-red-500 text-sm mt-1">
        Description is required
      </div>
    </div>

    <div class="mb-4">
      <label for="category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Category
      </label>
      <select
        id="category"
        formControlName="category"
        class="w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      >
        <option value="">Select a category</option>
        <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
      </select>
      <div *ngIf="expenseForm.get('category')?.invalid && expenseForm.get('category')?.touched"
           class="text-red-500 text-sm mt-1">
        Category is required
      </div>
    </div>

    <div class="mb-4">
      <label for="amount" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Amount
      </label>
      <input
        type="number"
        id="amount"
        formControlName="amount"
        step="0.01"
        min="0.01"
        class="w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"
        placeholder="Enter amount"
      >
      <div *ngIf="expenseForm.get('amount')?.invalid && expenseForm.get('amount')?.touched"
           class="text-red-500 text-sm mt-1">
        Valid amount is required (minimum 0.01)
      </div>
    </div>

    <div class="mb-6">
      <label for="date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Date
      </label>
      <input
        type="date"
        id="date"
        formControlName="date"
        class="w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      >
      <div *ngIf="expenseForm.get('date')?.invalid && expenseForm.get('date')?.touched"
           class="text-red-500 text-sm mt-1">
        Date is required
      </div>
    </div>

    <div class="flex justify-end space-x-3">
      <button
        type="button"
        (click)="onCancel()"
        class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"
      >
        Cancel
      </button>
      <button
        type="submit"
        [disabled]="expenseForm.invalid"
        class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50"
      >
        {{ isEdit ? 'Update Expense' : 'Add Expense' }}
      </button>
    </div>
  </form>
</div>
